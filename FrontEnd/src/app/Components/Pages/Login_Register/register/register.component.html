<div class="sign-container">
  <div class="container right-panel-active" id="container">
    <div class="form-container sign-up overflow-auto ">
      <h1 class="text-center mt-5">Create Account</h1>
      <form [formGroup]="validationForm" (ngSubmit)="register(name, email, phone, password)">

        <input type="text" class="form-control" name="name" placeholder="Name" formControlName="name"
          [ngClass]="{'is-invalid': name?.invalid && (name?.dirty || name?.touched), 'is-valid': !name?.invalid && (name?.dirty || name?.touched)}" autocomplete="off"/>
        <div class="alert alert-danger text-danger p-0 text-start px-3"
        *ngIf="name?.invalid && (name?.dirty || name?.touched)">
          <p style="font-size: small; margin: 0;">
             <small *ngIf="name?.errors?.['required']">name is required.</small>
            <small *ngIf="name?.errors?.['pattern']">name must be greater than 3.</small>
          </p>
        </div>

        <input type="email" class="form-control" name="email" placeholder="Email" formControlName="email"
          [ngClass]="{'is-invalid': email?.invalid && (email?.dirty || email?.touched), 'is-valid': !email?.invalid && (email?.dirty || email?.touched)}" autocomplete="off"/>
        <div class="alert alert-danger text-danger p-0 text-start px-3"
          *ngIf="email?.invalid && (email?.dirty || email?.touched)">
          <p style="font-size: small; margin: 0;">
            <small *ngIf="email?.errors?.['required']">Email is required.</small>
            <small *ngIf="email?.errors?.['email']">Please enter a valid email address.</small>
          </p>
        </div>

        <input type="text" name="phone" placeholder="Phone" class="form-control" formControlName="phone"
        [ngClass]="{'is-invalid': phone?.invalid && (phone?.dirty || phone?.touched), 'is-valid': !phone?.invalid && (phone?.dirty || phone?.touched)}"  autocomplete="off" />
        <div class="alert alert-danger text-danger p-0  text-start px-3"
          *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)">
          <p style="font-size: small; margin:0;">
            <small *ngIf="phone?.errors?.['required']">Phone number is required.</small>
            <small *ngIf="phone?.errors?.['pattern']">Please enter a 10-digit phone number.</small>
          </p>
        </div>

        <input type="password" class="form-control" name="password" placeholder="Password" formControlName="password"
        [ngClass]="{'is-invalid': password?.invalid && (password?.dirty || password?.touched), 'is-valid': !password?.invalid && (password?.dirty || password?.touched)}"  autocomplete="off" />
        <div class="alert alert-danger text-danger p-0 text-start px-3" *ngIf="password?.invalid && (password?.dirty || password?.touched)">
          <p style="font-size: small; margin: 0;">
          <small *ngIf="password?.errors?.['required']">Password number is required.</small>
          <small *ngIf="password?.errors?.['pattern']">please enter password contain capital word , number and special character  .</small>
        </p>
        </div>

        <button type="submit" [disabled]="validationForm.invalid"  data-bs-toggle="modal" data-bs-target="#SuccessModal">Sign Up</button>

        <div
        class="text-danger text-danger p-0 text-start px-3 my-3 text-center"
        *ngIf="errorMessage">
        <p>{{ errorMessage }}</p>
      </div>

      </form>
    </div>

    <div class="overlay-container">
      <div class="overlay">
        <div class="overlay-panel panel-left">
          <h2>Welcome back</h2>
          <p>To keep connected with us please login with your personal info.</p>
          <a id="sign-in-btn" class="btn" routerLinkActive="active" routerLink="/login">Sign In</a>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="modal fade custom-modal" id="SuccessModal" (click)="redirectToLogin()"></div>
  <div class="modal-dialog modal-confirm modal-dialog-centered my-auto">
    <div class="modal-content">
      <div class="modal-header">
        <div class="d-flex flex-column justify-content-center w-100">
          <div class="icon-box text-center">
            <img src="./assets/images/icons/Plant Stickers.gif" width="500" height="500">
          </div>
          <h4 class="modal-title">Awesome!</h4>
        </div>
      </div>
      <div class="modal-body text-center">
        <p>Your Registration has been successfully completed</p>
        <small class="text-center">Welcom to our garden :)</small>
      </div>
      <div class="modal-footer w-100 d-flex justify-content-evenly mt-0">
        <button type="button" class="btn btn-info" data-bs-dismiss="modal" (click)="redirectToLogin()">Continue</button>
      </div>
    </div>
</div>

